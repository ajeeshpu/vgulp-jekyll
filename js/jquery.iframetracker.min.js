(function(a){a.fn.iframeTracker=function(b){a.iframeTracker.handlersList.push(b);a(this).bind("mouseover",{handler:b},function(d){d.data.handler.over=true;try{d.data.handler.overCallback(this)}catch(c){}}).bind("mouseout",{handler:b},function(d){d.data.handler.over=false;try{d.data.handler.outCallback(this)}catch(c){}})};a.iframeTracker={focusRetriever:null,focusRetrieved:false,handlersList:[],isIE8AndOlder:false,init:function(){try{if(a.browser.msie==true&&a.browser.version<9){this.isIE8AndOlder=true}}catch(b){try{var d=navigator.userAgent.match(/(msie) ([\w.]+)/i);if(d[2]<9){this.isIE8AndOlder=true}}catch(c){}}a(window).focus();a(window).blur(function(f){a.iframeTracker.windowLoseFocus(f)});a("body").append('<div style="position:fixed; top:0; left:0; overflow:hidden;"><input style="position:absolute; left:-300px;" type="text" value="" id="focus_retriever" /></div>');this.focusRetriever=a("#focus_retriever");this.focusRetrieved=false;a(document).mousemove(function(f){if(document.activeElement.tagName=="IFRAME"){a.iframeTracker.focusRetriever.focus();a.iframeTracker.focusRetrieved=true}});if(this.isIE8AndOlder){this.focusRetriever.blur(function(f){f.stopPropagation();f.preventDefault();a.iframeTracker.windowLoseFocus(f)})}if(this.isIE8AndOlder){a("body").click(function(f){a(window).focus()});a("form").click(function(f){f.stopPropagation()})}},windowLoseFocus:function(d){for(var c in this.handlersList){if(this.handlersList[c].over==true){try{this.handlersList[c].blurCallback()}catch(b){}}}}};a(document).ready(function(){a.iframeTracker.init()})})(jQuery);